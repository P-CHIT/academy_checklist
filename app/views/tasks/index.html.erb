<div class="min-h-screen">
  <div class="block lg:hidden">
    <div class="max-w-md mx-auto p-4 space-y-6">
      <div class="text-center">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">My Checklist</h1>
      </div>

      <div class="text-center">
        <div class="w-24 h-24 mx-auto mb-4 rounded-full overflow-hidden shadow-lg">
          <%= image_tag "profile_pic.jpg", alt: "profile Photo", class: "w-full h-full object-cover" %>
        </div>
        <p class="text-sm text-gray-500">Phuchit Uappapunsetty</p>
      </div>

      <div class="bg-white rounded-lg shadow p-4">
        <h2 class="text-lg font-semibold mb-4">Add New Task</h2>
        
        <%= form_with model: @task, local: true do |form| %>
          
          <div class="space-y-3">
            <%= form.text_field :title, 
                placeholder: "What needs to be done?", 
                class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" %>
            
            <%= form.submit "Add Task", 
                class: "w-full px-6 py-3 bg-black text-white rounded-lg font-medium cursor-pointer" %>
          </div>
        <% end %>
      </div>

      <div class="bg-white rounded-lg shadow overflow-hidden">
        <div class="p-4 border-b">
          <h2 class="text-lg font-semibold">Your Tasks (<%= @tasks.count %>)</h2>
        </div>
        
        <div class="divide-y max-h-96 overflow-y-auto">
          <% if @tasks.any? %>
            <% @tasks.each do |task| %>
              <div class="p-4 flex items-center justify-between hover:bg-gray-50">
                <div class="flex items-center space-x-3 flex-1">
                  <%= button_to toggle_task_path(task), 
                      method: :patch,
                      class: "w-6 h-6 border-2 border-gray-300 rounded cursor-pointer bg-transparent flex items-center justify-center #{task.status ? 'bg-green-500 border-green-500' : 'hover:border-gray-300'}" do %>
                    <% if task.status %>
                      <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                      </svg>
                    <% end %>
                  <% end %>
                  
                  <span class="break-all text-gray-800 text-sm <%= task.status ? 'line-through text-gray-500' : '' %>">
                    <%= task.title %>
                  </span>
                </div>
                
                <%= button_to task_path(task), 
                    method: :delete,
                    class: "text-red-600 hover:text-red-800 p-1 bg-transparent border-none cursor-pointer",
                    data: { turbo_confirm: "Are you sure?" },
                    title: "Delete task" do %>
                  🗑️
                <% end %>
              </div>
            <% end %>
          <% else %>
            <div class="p-8 text-center text-gray-500">
              <p class="text-lg mb-2">No tasks yet!</p>
              <p class="text-sm">Add your first task above.</p>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="hidden lg:block">
    <div class="max-w-6xl mx-auto p-4 flex gap-6" style="height: 100vh;">
      <div class="w-1/3 flex flex-col justify-start items-center space-y-6 pt-6">
        <div class="text-center">
          <h1 class="text-4xl font-bold text-gray-800 mb-3">My Checklist</h1>
        </div>

        <div class="text-center">
          <div class="w-40 h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-2xl">
            <%= image_tag "profile_pic.jpg", alt: "Profile Photo", class: "w-full h-full object-cover" %>
          </div>
          <h3 class="text-xl font-semibold text-gray-800 mb-2">Phuchit Uappapunsetty</h3>
        </div>
      </div>

      <div class="flex-1 flex flex-col space-y-4 pt-6">
        <div class="bg-white rounded-2xl shadow-xl p-6">
          <h2 class="text-xl font-semibold mb-4 text-center">Add New Task</h2>
          
          <%= form_with model: @task, local: true do |form| %>
            
            <div class="flex gap-4">
              <%= form.text_field :title, 
                  placeholder: "What needs to be done?", 
                  class: "flex-1 px-4 py-3 text-base border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500" %>
              
              <%= form.submit "Add Task", 
                  class: "px-6 py-3 bg-black text-white rounded-xl font-semibold cursor-pointer shadow-lg hover:shadow-xl transform hover:scale-105 transition-all" %>
            </div>
          <% end %>
        </div>

        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
          <div class="p-4 border-b bg-gradient-to-r from-gray-50 to-white">
            <h2 class="text-xl font-semibold text-center">Your Tasks (<%= @tasks.count %>)</h2>
          </div>
          
          <div class="divide-y overflow-y-auto" style="max-height: 350px;">
            <% if @tasks.any? %>
              <% @tasks.each do |task| %>
                <div class="p-4 flex items-center justify-between hover:bg-gray-50 transition-colors">
                  <div class="flex items-center space-x-4 flex-1">
                    <%= button_to toggle_task_path(task), 
                        method: :patch,
                        class: "w-6 h-6 border-2 rounded cursor-pointer flex items-center justify-center transition-all transform hover:scale-110 #{task.status ? 'bg-green-500 border-green-500' : 'border-gray-300 hover:border-blue-500'}" do %>
                      <% if task.status %>
                        <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                      <% end %>
                    <% end %>
                    
                    <span class="break-all text-gray-800 text-base font-medium <%= task.status ? 'line-through text-gray-500' : '' %>">
                      <%= task.title %>
                    </span>
                  </div>
                  
                  <%= button_to task_path(task), 
                      method: :delete,
                      class: "text-gray-400 hover:text-red-500 p-2 bg-transparent border-none cursor-pointer hover:bg-red-50 rounded-full transition-all",
                      data: { turbo_confirm: "Are you sure?" },
                      title: "Delete task" do %>
                    🗑️
                  <% end %>
                </div>
              <% end %>
            <% else %>
              <div class="p-12 text-center text-gray-500">
                <div class="text-4xl mb-4">📝</div>
                <h3 class="text-xl font-semibold mb-3">No tasks yet!</h3>
                <p class="text-base">Add your first task above to get started.</p>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>